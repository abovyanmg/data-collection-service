# üìã –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ ACS Data Collection Service

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–≠—Ç–∞ –ø–∞–ø–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ACS —Å–∏—Å—Ç–µ–º—ã —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö.

---

## üìÅ –§–∞–π–ª—ã –ø—Ä–∏–º–µ—Ä–æ–≤

### üîß –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

#### `config.xml` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ClickHouse
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ClickHouse —Å–µ—Ä–≤–µ—Ä–∞
- –ü—É—Ç–∏ –∫ –¥–∞–Ω–Ω—ã–º –∏ –ª–æ–≥–∞–º
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∏ –∏ –ø–æ—Ä—Ç–æ–≤
- –ü—Ä–æ—Ñ–∏–ª–∏ –∏ –∫–≤–æ—Ç—ã
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

#### `users.xml` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ ClickHouse
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∏—Ö –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: default, USER1, USER2, USER3
- –ü–∞—Ä–æ–ª–∏ (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–∏)
- –ü—Ä–æ—Ñ–∏–ª–∏ –¥–æ—Å—Ç—É–ø–∞
- –°–µ—Ç–µ–≤—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

#### `settings.xlsx` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º –∏ –æ—Ç—á–µ—Ç–æ–≤
- **–õ–∏—Å—Ç "db"** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **–õ–∏—Å—Ç "ozonan"** - Ozon Analytics
- **–õ–∏—Å—Ç "ozon"** - Ozon Marketplace  
- **–õ–∏—Å—Ç "wb"** - Wildberries
- **–õ–∏—Å—Ç "mskld"** - MSKLD
- **–õ–∏—Å—Ç "all_reports"** - —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –æ—Ç—á–µ—Ç–æ–≤

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä
```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd /root/data-collection-service/client

# –°–∫–∞—á–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
wget https://raw.githubusercontent.com/abovyanmg/data-collection-service/main/admin/examples/config.xml
wget https://raw.githubusercontent.com/abovyanmg/data-collection-service/main/admin/examples/users.xml
wget https://raw.githubusercontent.com/abovyanmg/data-collection-service/main/admin/examples/settings.xlsx
```

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∞–π–ª—ã
```bash
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ config.xml (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
nano config.xml

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ users.xml - –∑–∞–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏
nano users.xml

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ settings.xlsx - –∑–∞–º–µ–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
# –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Excel/LibreOffice
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
chmod 644 config.xml
chmod 600 users.xml
chmod 644 settings.xlsx
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π–ª–æ–≤

### config.xml
**–ß—Ç–æ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:**
- –ü—É—Ç–∏ –∫ –¥–∞–Ω–Ω—ã–º: `/var/lib/clickhouse/`
- –ü—É—Ç–∏ –∫ –ª–æ–≥–∞–º: `/var/log/clickhouse-server/`
- –õ–∏–º–∏—Ç—ã –ø–∞–º—è—Ç–∏: `max_memory_usage`
- –ö–≤–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤: `max_queries`

### users.xml
**–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–º–µ–Ω–∏—Ç–µ:**
- `YOUR_DEFAULT_PASSWORD` ‚Üí –ø–∞—Ä–æ–ª—å –¥–ª—è default
- `YOUR_USER1_PASSWORD` ‚Üí –ø–∞—Ä–æ–ª—å –¥–ª—è USER1
- `YOUR_USER2_PASSWORD` ‚Üí –ø–∞—Ä–æ–ª—å –¥–ª—è USER2
- `YOUR_USER3_PASSWORD` ‚Üí –ø–∞—Ä–æ–ª—å –¥–ª—è USER3

### settings.xlsx
**–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–º–µ–Ω–∏—Ç–µ:**
- `YOUR_PASSWORD` ‚Üí –ø–∞—Ä–æ–ª—å ClickHouse
- `YOUR_BOT_TOKEN` ‚Üí —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞
- `YOUR_CHAT_ID` ‚Üí Chat ID Telegram
- `YOUR_OZON_TOKEN` ‚Üí API —Ç–æ–∫–µ–Ω Ozon
- `YOUR_WB_TOKEN` ‚Üí API —Ç–æ–∫–µ–Ω Wildberries
- `YOUR_MSKLD_TOKEN` ‚Üí API —Ç–æ–∫–µ–Ω MSKLD

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è:
- **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ñ–∞–π–ª—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø–∞—Ä–æ–ª—è–º–∏ –≤ Git!**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–æ–∂–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ (–º–∏–Ω–∏–º—É–º 12 —Å–∏–º–≤–æ–ª–æ–≤)
- –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ IP –∞–¥—Ä–µ—Å–∞ –≤ `users.xml` –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- –†–µ–≥—É–ª—è—Ä–Ω–æ –º–µ–Ω—è–π—Ç–µ –ø–∞—Ä–æ–ª–∏

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:
```bash
# config.xml - —á–∏—Ç–∞–µ–º—ã–π –¥–ª—è –≤—Å–µ—Ö
chmod 644 config.xml

# users.xml - —Ç–æ–ª—å–∫–æ –¥–ª—è root (—Å–æ–¥–µ—Ä–∂–∏—Ç –ø–∞—Ä–æ–ª–∏)
chmod 600 users.xml

# settings.xlsx - —á–∏—Ç–∞–µ–º—ã–π –¥–ª—è –≤—Å–µ—Ö
chmod 644 settings.xlsx
```

---

## üìä –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã

–í –ø–∞–ø–∫–µ —Ç–∞–∫–∂–µ —Å–æ–¥–µ—Ä–∂–∞—Ç—Å—è –ø—Ä–∏–º–µ—Ä—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤:
- `settingsOneMarkets.xlsx` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è OneMarkets
- `settingsTATTOOFEELandLinePro.xlsx` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è TATTOOFEEL
- `settingsExtDaniil.xlsx` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è ExtDaniil
- –ò –¥—Ä—É–≥–∏–µ...

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ö –∫–∞–∫ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.**

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π:

üìß **Email:** abovyan.mg@gmail.com  
üêô **GitHub:** [–°–æ–∑–¥–∞—Ç—å issue](https://github.com/abovyanmg/data-collection-service/issues)  
üìã **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://github.com/abovyanmg/data-collection-service/blob/main/DOCKER.md)

---

**–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ:** AbovyansConsultingServices  
**–û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö**